<div class="container-fluid vh-100">
  <div class="row h-100">
    <!-- Sidebar -->
    <nav class="col-md-3 col-lg-2 d-md-block bg-primary sidebar collapse">
      <div class="position-sticky pt-3">
        <div class="text-center mb-4">
          <i class="bi bi-clock-history text-white display-4"></i>
          <h5 class="text-white mt-2 mb-0">Control NGR</h5>
          <small class="text-white-50">Sistema de Asistencia</small>
        </div>

        <hr class="text-white-50">

        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link text-white" routerLink="/dashboard" routerLinkActive="active">
              <i class="bi bi-house-door me-2"></i>
              Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#">
              <i class="bi bi-clock me-2"></i>
              Asistencia
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#">
              <i class="bi bi-calendar-week me-2"></i>
              Horarios
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#">
              <i class="bi bi-send-check me-2"></i>
              Solicitudes
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#">
              <i class="bi bi-diagram-3 me-2"></i>
              Organigrama
            </a>
          </li>
          
          <!-- Panel Admin solo para ADMIN/SUPERVISOR -->
          <li *ngIf="isAdmin() || isSupervisor()" class="nav-item mt-3">
            <div class="nav-link text-warning">
              <i class="bi bi-shield-check me-2"></i>
              Panel Admin
            </div>
            <ul class="nav flex-column ps-3">
              <li class="nav-item">
                <a class="nav-link text-white-75" href="#">Empleados</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white-75" href="#">Reportes</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white-75" href="#">Configuración</a>
              </li>
            </ul>
          </li>
        </ul>

        <!-- User Info -->
        <div class="position-absolute bottom-0 start-0 end-0 p-3 bg-primary-dark">
          <div class="text-center text-white">
            <small class="d-block">{{ currentEmpleado?.nombre?.split(' ')[0] || 'Usuario' }}</small>
            <small class="text-white-50">{{ currentEmpleado?.rol?.toUpperCase() || 'ROL' }}</small>
          </div>
          <button class="btn btn-outline-light btn-sm w-100 mt-2" (click)="logout()">
            <i class="bi bi-box-arrow-right me-1"></i>Cerrar Sesión
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 bg-light">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>